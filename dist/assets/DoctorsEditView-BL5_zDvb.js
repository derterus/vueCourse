import{_ as a,b as d,c as p,d as r,w as n,v as s,f as u,o as m}from"./index-BYyPEl2N.js";const c={data(){return{id:this.$route.params.id,doctor:{FirstName:"",LastName:"",Specialization:"",PhoneNumber:"",Email:"",ExperienceYears:"",WorkSchedule:"",Adress:"",Photo:null}}},async created(){try{const l=await d.get("http://localhost:3000/doctors/"+this.id);l.data.length>0&&(this.doctor=l.data[0])}catch(l){console.error(l)}},methods:{onFileChange(l){this.doctor.Photo=l.target.files[0]},async submitForm(){const l=new FormData;Object.keys(this.doctor).forEach(o=>{o!=="Photo"?l.append(o,this.doctor[o]):typeof this.doctor.Photo!="string"&&l.append("Photo",this.doctor.Photo)});try{await d.put("http://localhost:3000/doctors/"+this.id,l),alert("Доктор успешно обновлен!")}catch(o){console.error(o),alert("Произошла ошибка при обновлении врача.")}}}},h={class:"doctors-create"},f=r("h1",null,"Редактирование врача",-1),b=r("button",{type:"submit",class:"btn btn-success"},"Сохранить",-1);function g(l,o,x,E,t,i){return m(),p("div",h,[f,r("form",{onSubmit:o[9]||(o[9]=u((...e)=>i.submitForm&&i.submitForm(...e),["prevent"]))},[n(r("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.doctor.FirstName=e),placeholder:"Имя",maxlength:"255"},null,512),[[s,t.doctor.FirstName]]),n(r("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>t.doctor.LastName=e),placeholder:"Фамилия",maxlength:"255"},null,512),[[s,t.doctor.LastName]]),n(r("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>t.doctor.Specialization=e),placeholder:"Специализация",maxlength:"255"},null,512),[[s,t.doctor.Specialization]]),n(r("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>t.doctor.PhoneNumber=e),placeholder:"Номер телефона",maxlength:"255"},null,512),[[s,t.doctor.PhoneNumber]]),n(r("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>t.doctor.Email=e),placeholder:"Email",type:"email"},null,512),[[s,t.doctor.Email]]),n(r("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>t.doctor.ExperienceYears=e),placeholder:"Опыт работы",type:"number"},null,512),[[s,t.doctor.ExperienceYears]]),n(r("input",{"onUpdate:modelValue":o[6]||(o[6]=e=>t.doctor.WorkSchedule=e),placeholder:"Рабочий график",maxlength:"255"},null,512),[[s,t.doctor.WorkSchedule]]),n(r("input",{"onUpdate:modelValue":o[7]||(o[7]=e=>t.doctor.Adress=e),placeholder:"Адрес",maxlength:"255"},null,512),[[s,t.doctor.Adress]]),r("input",{type:"file",onChange:o[8]||(o[8]=(...e)=>i.onFileChange&&i.onFileChange(...e))},null,32),b],32)])}const N=a(c,[["render",g]]);export{N as default};
